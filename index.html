<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Collecting Tweet Data Via The Twitter Academic Research Product Track  • twittrcademic</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Collecting Tweet Data Via The Twitter Academic Research Product Track ">
<meta property="og:description" content="This package provides a collection of utility functions supporting 
    the collection of Tweet data via Twitter v2 API endpoints in the Twitter 
    Academic Research product track 
    (&lt;https://developer.twitter.com/en/solutions/academic-research&gt;).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">twittrcademic</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sdaume/twittrcademic/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="twittrcademic" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#twittrcademic" class="anchor"></a>twittrcademic</h1></div>
<p>The <code>twittrcademic</code> package provides a collection of utility functions supporting the retrieval of Tweet data via Twitter v2 API endpoints in the <a href="https://developer.twitter.com/en/solutions/academic-research">Twitter Academic Research product track</a>.</p>
<p>This package has been set up as a personal library to collect Tweet data for academic research. <strong>The package does not provide any functions to analyze the retrieved data.</strong></p>
<div id="background-and-prerequisites" class="section level2">
<h2 class="hasAnchor">
<a href="#background-and-prerequisites" class="anchor"></a>Background and prerequisites</h2>
<p>The API endpoints in the <a href="https://developer.twitter.com/en/solutions/academic-research">Twitter Academic Research product track</a> offer access to the full Tweet archive. These endpoints rely on the <a href="https://developer.twitter.com/en/docs/twitter-api/early-access">Twitter API v2</a> with a significantly different Tweet object model compared with the v1.1 API. In addition to structural differences in the JSON responses, the v2 endpoints require that most objects and attributes, in for example a Tweet object, have to be explicitly specified in the API request in order to be included in the response. (By default the v2 search endpoint JSON contains only Tweet ID and text.)</p>
<p>In order to use the functions in this package API keys specifically for the <a href="https://developer.twitter.com/en/solutions/academic-research">Academic Research product track</a> are required, standard API access keys will not work.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the development version of <code>twittrcademic</code> from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"sdaume/twittrcademic"</span><span class="op">)</span></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>The package functions can be used to execute a single Tweet search API call against the <a href="https://developer.twitter.com/en/docs/twitter-api/tweets/search/api-reference/get-tweets-search-all">/2/tweets/search/all</a> endpoint or execute long-running searches for large result sets and store the results in multiple suitably sized batches.</p>
<div id="a-single-search-api-call" class="section level3">
<h3 class="hasAnchor">
<a href="#a-single-search-api-call" class="anchor"></a>A single search API call</h3>
<p>This will return a JSON response of at most 500 Tweets, which could be processed directly with tools like <code>jsonlite</code>. The example below would return the 100 most recent Tweets containing the keyword <strong><em>openscience</em></strong> and posted on the <strong><em>12. June 2020</em></strong> or earlier.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://sdaume.github.io/twittrcademic">twittrcademic</a></span><span class="op">)</span>

<span class="va">bearer</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oauth_twitter_token.html">oauth_twitter_token</a></span><span class="op">(</span>consumerKey <span class="op">=</span> <span class="st">"YOUR_ACADEMIC_PRODUCT_API_KEY"</span>,
                              consumerSecret <span class="op">=</span> <span class="st">"YOUR_ACADEMIC_PRODUCT_API_SECRET"</span><span class="op">)</span>

<span class="va">json_response</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/v2_tweets_search_all.html">v2_tweets_search_all</a></span><span class="op">(</span>queryString <span class="op">=</span> <span class="st">"openscience"</span>, 
                                      maxResult <span class="op">=</span> <span class="fl">100</span>,  
                                      toDate <span class="op">=</span> <span class="st">"2020-06-12"</span>,
                                      twitterBearerToken <span class="op">=</span> <span class="va">bearer</span><span class="op">)</span></code></pre></div>
</div>
<div id="retrieve-and-store-all-available-results" class="section level3">
<h3 class="hasAnchor">
<a href="#retrieve-and-store-all-available-results" class="anchor"></a>Retrieve and store all available results</h3>
<p>The following would return all Tweets posted in the year <strong><em>2020</em></strong> that contain the term <strong><em>‘planetary boundaries’</em></strong>. This will run until all results are retrieved. The results will be summarised into batches of files that contain approximately <strong><em>20000</em></strong> Tweets; files are stored in the working directory and all start with <strong><em>‘query_label’</em></strong> (for example <code>query_label_20200101_20201231_1_20453.json</code>); in addition to the base label the file name indicates the date range (implicit or explicit) of the query, a numeric index for the batch and the number of Tweet results in the given batch.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://sdaume.github.io/twittrcademic">twittrcademic</a></span><span class="op">)</span>

<span class="va">bearer</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/oauth_twitter_token.html">oauth_twitter_token</a></span><span class="op">(</span>consumerKey <span class="op">=</span> <span class="st">"YOUR_ACADEMIC_PRODUCT_API_KEY"</span>,
                              consumerSecret <span class="op">=</span> <span class="st">"YOUR_ACADEMIC_PRODUCT_API_SECRET"</span><span class="op">)</span>

<span class="fu"><a href="reference/tweets_search_and_store.html">tweets_search_and_store</a></span><span class="op">(</span>queryString <span class="op">=</span> <span class="st">"planetary boundaries"</span>, 
                        fromDate <span class="op">=</span> <span class="st">"2020-01-01"</span>, 
                        toDate <span class="op">=</span> <span class="st">"2020-12-31"</span>,
                        maxBatchSize <span class="op">=</span> <span class="fl">20000</span>,
                        batchBaseLabel <span class="op">=</span> <span class="st">"query_label"</span>,
                        twitterBearerToken <span class="op">=</span> <span class="va">bearer</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="license-credits-and-acknowledgements" class="section level2">
<h2 class="hasAnchor">
<a href="#license-credits-and-acknowledgements" class="anchor"></a>License, credits and acknowledgements</h2>
<p>The package is shared under an <a href="LICENSE.html">MIT License</a>.</p>
<p>This package has been developed to support research at the <a href="https://www.stockholmresilience.org">Stockholm Resilience Centre</a>; this research has benefited from funding by the <a href="https://formas.se/">Swedish Research Council for Sustainable Development (Formas)</a>.</p>
</div>
<div id="disclaimer" class="section level2">
<h2 class="hasAnchor">
<a href="#disclaimer" class="anchor"></a>Disclaimer</h2>
<p>This package has been developed as a reusable tool for the author(s) own research and comes with no guarantee for the correctness or completeness of the retrieved data.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/sdaume/twittrcademic/">https://​github.com/​sdaume/​twittrcademic/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/sdaume/twittrcademic/issues">https://​github.com/​sdaume/​twittrcademic/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/sdaume">Stefan Daume</a> <br><small class="roles"> Maintainer, author </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/sdaume/twittrcademic/actions"><img src="https://github.com/sdaume/twittrcademic/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/sdaume">Stefan Daume</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
